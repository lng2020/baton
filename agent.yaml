# Baton Agent Configuration

# Number of parallel worktrees (one Claude Code instance per worktree)
max_parallel_workers: 5

# Task queue polling interval (seconds)
poll_interval_seconds: 10

# Claude Code parameters
claude_code:
  skip_permissions: true
  output_format: "stream-json"
  verbose: true
  # Per-task timeout (seconds)
  timeout: 600

# Port range for task workers (TASK_PORT env var)
port_range_start: 9200
port_range_end: 9299

# Test command to run after merge (empty string to skip)
test_command: "pytest"

# Push merged commits to remote
push_to_remote: true

# Files to symlink into worktrees (shared, NOT copied)
symlink_files:
  - "data/dev-tasks.json"

# Files to copy into worktrees (isolated per worktree)
copy_files:
  - "CLAUDE.md"
  - "PROGRESS.md"

# Max retries for merge+test cycle
max_merge_retries: 3